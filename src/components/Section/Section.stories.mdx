import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { boolean, number, color } from '@storybook/addon-knobs';
import scale from '../../utils/scale';
import Item from '../../helpers/Item';
import baseTheme from '../../helpers/baseTheme';
import Section from '.';

<Meta title="Components / Section" component={Section} />

# Section

<Story name="Knobs">
    <Section
        container={boolean('container', true)}
        mb={number('mb', 0, {
            min: 0,
            max: 160,
            step: 4,
        })}
        pt={number('pt', 0, {
            min: 0,
            max: 160,
            step: 4,
        })}
        pb={number('pb', 0, {
            min: 0,
            max: 160,
            step: 4,
        })}
        bg={color('bg', '#fff')}
    >
        <Item>Here goes section content</Item>
    </Section>
</Story>

Обычно при разметке основного контента страницы он делится на разделы через тег section. Для упрощения этого процесса предусмотрен компонент `Section`.

⚠️ В документации используется компонент `Item` чисто в демонстративных целях - визуально показать бокс контента. Это вспомогательный компонент GDS и на проекте его не будет.

## Props

<Props of={Section} />

## Use Cases

### Container

Внутри каждого раздела может быть или не быть контейнер.

Величина контейнера, поля и отступы читаются из поля `container` объекта темы.

<Preview>
    <Story name="Container">
        <>
            <Section mb={scale(2)}>
                <Item>Section with container</Item>
            </Section>
            <Section container={false}>
                <Item>Section without container</Item>
            </Section>
        </>
    </Story>
</Preview>

### Margins & Paddings

В качестве спейсингов обычно используются либо нижние отступы, либо вертикальные поля. Для них предусмотрены пропсы `mb`, `pt`, `pb` и `pv`. `pv` выступает в качестве шортката для указания равных вертикальных полей.

<Preview>
    <Story name="Margins & Paddings">
        <>
            <Section mb={scale(2)}>
                <Item>Section with margin</Item>
            </Section>
            <Section mb={scale(2)} pv={scale(2)}>
                <Item>Section with margin and equal paddings</Item>
            </Section>
            <Section pt={scale(4)} pb={scale(2)}>
                <Item>Section with different paddings</Item>
            </Section>
        </>
    </Story>
</Preview>

### Backgrounds

Типовой кейс - использование разделов с фоном. Для фона предусмотрен проп `bg`.

⏱ Использовать изображения в качестве фона не рекомендуется, т.к. они не поддаются оптимизации - используйте компонент `Picture` с абсолютно спозиционированным изображением.

<Preview>
    <Story name="Backgrounds">
        <>
            <Section mb={scale(2)}>
                <Item>Simple section</Item>
            </Section>
            <Section mb={scale(2)} pv={scale(2)} bg={baseTheme.colors.grey20}>
                <Item>Section with background</Item>
            </Section>
            <Section>
                <Item>Simple section</Item>
            </Section>
        </>
    </Story>
</Preview>
