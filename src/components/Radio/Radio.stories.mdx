import { Meta, Story, Props, Preview } from '@storybook/addon-docs/blocks';
import { text, boolean, radios, object } from '@storybook/addon-knobs';
import { action } from '@storybook/addon-actions';
import * as Yup from 'yup';
import baseTheme from '../../utils/baseTheme';
import Button from '../../components/Button';
import centeredDecorator from '../../../.storybook/decorators/centeredDecorator';
import Radio from '.';
import Form from '../../components/Form';
import Legend from '../../components/Legend';
import ErrorIcon from '../../icons/tokens/medium/errorTriangle.svg';

<Meta title="Components / Radio" component={Radio} decorators={[centeredDecorator]} />

# Radio

<Story name="Knobs">
    <Radio
        name="radioLink"
        orientation={radios('Orientation', ['vertical', 'horizontal'], 'vertical', 'Radio props')}
        alignment={radios('Alignment', ['top', 'center', 'bottom'], 'top', 'Radio props')}
        size={radios('size', ['lg', 'md', 'sm'], 'md', 'Radio props')}
        isOptional={
            boolean('Optional', true, 'Radio props')
                ? text('Optional text', '(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)', 'Radio props')
                : undefined
        }
    >
        <Legend
            as="legend"
            hint="–ü–æ–¥—Å–∫–∞–∑–∫–∞"
            optional="(–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
            IconBefore={baseTheme.global.placeholder}
            IconAfter={baseTheme.global.placeholder}
            hiddenLegend={boolean('Hidden legend', false)}
        >
            –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç
        </Legend>
        <Radio.Item
            value="first"
            labelRight={boolean('Label right', true, 'Radio 1 props')}
            disabled={boolean('Disabled', true, 'Radio 1 props')}
            IconInner={boolean('Custom inner icon', false, 'Radio 1 props') && baseTheme.global.placeholder}
            IconOuter={boolean('Custom outer icon', false, 'Radio 1 props') && baseTheme.global.placeholder}
            __theme={
                boolean('Use custom theme', false, 'Radio 1 props')
                    ? object('themeObj', baseTheme.components.RadioItem, 'Radio 1 props')
                    : undefined
            }
        >
            –í–∞—Ä–∏–∞–Ω—Ç 1
        </Radio.Item>
        <Radio.Item value="second" defaultChecked>
            –í–∞—Ä–∏–∞–Ω—Ç 1
        </Radio.Item>
        <Radio.Item value="link">
            –Ø –ø—Ä–æ—á–∏—Ç–∞–ª –∏ –ø—Ä–∏–Ω–∏–º–∞—é <a href="/">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</a> –∏{' '}
            <a href="/">–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a>
        </Radio.Item>
    </Radio>
</Story>

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Radio` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≥—Ä—É–ø–ø—É —Ä–∞–¥–∏–æ–±–∞—Ç—Ç–æ–Ω–æ–≤, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —á–µ—Ä–µ–∑ fieldset. –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–∞–¥–∏–æ–±–∞—Ç—Ç–æ–Ω—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ children —á–µ—Ä–µ–∑ `Radio.Item`. –í—Å—è –≥—Ä—É–ø–ø–∞ –∏–º–µ–µ—Ç –µ–¥–∏–Ω—ã–π `name` –∏ –∫–∞–∂–¥—ã–π item –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `value`. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤–∏–¥–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ value.

–í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–¥–∏–æ–±–∞—Ç—Ç–æ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞—Å—Ç–æ—è—â–∏–µ input type="radio", —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç—ã. –°–∞–º –∏–Ω–ø—É—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∞ —Å—Ç–∏–ª–∏–∑—É–µ—Ç—Å—è label, –≥–¥–µ –±–æ–∫—Å - —ç—Ç–æ ::before, –º–∞—Ä–∫–∞ - ::after. –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ –∫–ª–∏–∫ –ø–æ label —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω–ø—É—Ç–∞.

‚òùüèø –¢.–∫. –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fieldset, —Ç–æ —Ä–∞–∑–º–µ—Ç–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å legend - –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–ø `legend`. –í –∏–¥–µ–∞–ª–µ –ª–µ–≥–µ–Ω–¥–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–∏–º–æ–π, –Ω–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –µ—ë –º–æ–∂–Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç—å, –æ—Å—Ç–∞–≤–∏–≤ –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è AT, —á–µ—Ä–µ–∑ –ø—Ä–æ–ø `isHiddenLegend`.

## Props

<Props of={Radio} />

## Use cases

### With Form

<Preview>
    <Story name="With Form">
        {() => {
            const initialValues = {
                radioKnobs: '',
            };
            const validationSchema = Yup.object().shape({
                radioKnobs: Yup.string().required('–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ'),
            });
            return (
                <Form
                    initialValues={initialValues}
                    validationSchema={validationSchema}
                    onSubmit={action('Submit')}
                    style={{ width: '25vw', minWidth: '320px' }}
                    ErrorIcon={ErrorIcon}
                    required="mark"
                    errorPosition={radios('errorPosition', ['top', 'bottom'], 'top')}
                >
                    <Form.Field
                        controlId="radioKnobs"
                        hint="–ü–æ–¥—Å–∫–∞–∑–∫–∞ 1"
                        hiddenLabel={boolean('Hidden Legend', false, 'Props')}
                        size={radios('size', ['lg', 'md', 'sm'], 'md', 'Props')}
                    >
                        <Legend
                            as="legend"
                            hint="–ü–æ–¥—Å–∫–∞–∑–∫–∞"
                            IconBefore={baseTheme.global.placeholder}
                            IconAfter={baseTheme.global.placeholder}
                            hiddenLegend={boolean('Hidden legend', false)}
                        >
                            –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç
                        </Legend>
                        <Form.Radio
                            orientation={radios('Orientation', ['vertical', 'horizontal'], 'vertical', 'Props')}
                            alignment={radios('Alignment', ['top', 'center', 'bottom'], 'top', 'Props')}
                        >
                            <Radio.Item
                                value="first"
                                disabled={boolean('Disabled', true, 'Radio 1 props')}
                                IconInner={
                                    boolean('Custom inner icon', false, 'Radio 1 props') && baseTheme.global.placeholder
                                }
                            >
                                {text('Label', '–í–∞—Ä–∏–∞–Ω—Ç 1', 'Radio 1 props')}
                            </Radio.Item>
                            <Radio.Item
                                value="second"
                                disabled={boolean('Disabled', false, 'Radio 2 props')}
                                IconInner={
                                    boolean('Custom inner icon', false, 'Radio 2 props') && baseTheme.global.placeholder
                                }
                            >
                                {text(
                                    'Label',
                                    '–í–∞—Ä–∏–∞–Ω—Ç —Å –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä—ã–π, –æ—Å–µ–≤–∏–¥–Ω–æ, –∑–∞–π–º—ë—Ç –¥–≤–µ —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ –¥–∞–∂–µ –±–æ–ª—å—à–µ',
                                    'Radio 2 props',
                                )}
                            </Radio.Item>
                            <Radio.Item value="third" disabled={boolean('Disabled', false, 'Radio 3 props')}>
                                {text('Label', '–í–∞—Ä–∏–∞–Ω—Ç 3', 'Radio 3 props')}
                            </Radio.Item>
                            <Radio.Item value="fourth" disabled={boolean('Disabled', false, 'Radio 4 props')}>
                                {text('Label', '–í–∞—Ä–∏–∞–Ω—Ç 4', 'Radio 4 props')}
                            </Radio.Item>
                        </Form.Radio>
                    </Form.Field>
                    <br />
                    <Button type="submit">Submit</Button>
                </Form>
            );
        }}
    </Story>
</Preview>
