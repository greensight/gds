import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions';
import { text, boolean } from '@storybook/addon-knobs';
import theme from '@utils/baseTheme';
import * as Yup from 'yup';
import centeredDecorator from '@decorators/centeredDecorator';
import Form from './';
import Button from '@components/Button';

<Meta title="Components / Form" component={Form} decorators={[centeredDecorator]} />

# Form üìÉ
<Preview>
    <Story name="basic">
        {() => {
            const initialValues = {
                exampleInput: '–ù–µ–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ',
                exampleInput2: '',
                exampleInput3: '',
                exampleInput4: '–ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ',
            };
            const validationSchema = Yup.object().shape({
                exampleInput2: Yup.string().required('–¢–µ–∫—Å—Ç —á—Ç–æ-—Ç–æ –∑–∞–±—ã–ª–∏'),
            });
            return(
                <Form
                    initialValues={initialValues}
                    validationSchema={validationSchema}
                    onSubmit={action('Submit')}
                    style={{ width: '25vw', minWidth: '320px' }}
                >
                    <Form.Field controlId="exampleInput" optional={true} size="lg">
                        <Form.Label hint="–ü–æ–¥—Å–∫–∞–∑–∫–∞ –∫ –ø–æ–ª—é 1" Icon={theme.placeholderLg} iconAfter={true}>
                            –õ–µ–π–±–ª 1
                        </Form.Label>
                        <Form.Input Icon={theme.placeholderLg} />
                    </Form.Field>
                    <br />
                    <Form.Field controlId="exampleInput2">
                        <Form.Label Icon={theme.placeholder} hint="–ü–æ–¥—Å–∫–∞–∑–∫–∞ –∫ –ø–æ–ª—é 2">
                            –õ–µ–π–±–ª 2
                        </Form.Label>
                        <Form.Input Icon={theme.placeholder} />
                    </Form.Field>
                    <br />
                    <Form.Field controlId="exampleInput3" size="sm">
                        <Form.Label Icon={theme.placeholderSm} hint="–ü–æ–¥—Å–∫–∞–∑–∫–∞ –∫ –ø–æ–ª—é 3">
                            –õ–µ–π–±–ª 3
                        </Form.Label>
                        <Form.Input Icon={theme.placeholderSm} />
                    </Form.Field>
                    <br />
                    <Form.Field controlId="exampleInput4" optional={true}>
                        <Form.Label>
                            –õ–µ–π–±–ª 4
                        </Form.Label>
                        <Form.Input Icon={theme.placeholder} disabled />
                        <Form.Hint hint="–ü–æ–¥—Å–∫–∞–∑–∫–∞: –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª–µ" />
                    </Form.Field>
                    <br />
                    <Button type="submit">Submit</Button>
                </Form>
            );
        }}
    </Story>
</Preview>

## –§–æ—Ä–º–∞

`Form` - —ç—Ç–æ –æ–±—ë—Ä—Ç–∫–∞ –≤–æ–∫—Ä—É–≥ Formik –∏ Form (formik). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –≤–Ω—É—Ç—Ä—å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–∫–∏–¥—ã–≤–∞—é—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã.

`Form` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ–µ—Ç `initialValues` - –æ–±—ä–µ–∫—Ç —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –ø–æ–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∞—Ç—Ä–∏–±—É—Ç–∞–º name –ø–æ–ª–µ–π. –í–æ—Å–ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –Ω–µ —Å—Ç–æ–ª—å–∫–æ –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, —Å–∫–æ–ª—å–∫–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ–ª–µ–π, –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å Formik. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–æ, –∞ –Ω–µ –æ–ø—É—â–µ–Ω–æ –ø—Ä–∏ –ø—É—Å—Ç–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏.

–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ `Form`. –í–æ–æ–±—â–µ –≥–æ–≤–æ—Ä—è, –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å —Å–≤–æ—é –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `validate`, —Ä–∞—Å–ø–∏—Å—ã–≤–∞—è –¥–µ—Å—è—Ç–∫–∏ —É—Å–ª–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–æ –µ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—É—á—à–µ: `validationSchema`. –ß–µ—Ä–µ–∑ —ç—Ç–æ—Ç –ø—Ä–æ–ø Formik –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —á–µ—Ä–µ–∑ [Yup](https://github.com/jquense/yup) - —ç—Ç–æ validation schema —Å —Å–æ—Ç–Ω–µ–π –≥–æ—Ç–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏. –¢.–æ. –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ —Å—Ö–µ–º—É - –æ–±—ä–µ–∫—Ç —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è–º–∏ –º–µ–∂–¥—É –∏–º–µ–Ω–µ–º –ø–æ–ª—è (–∏–∑ initialValues) –∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ Yup. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å—Ö–µ–º–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```jsx
const validationSchema = Yup.object().shape({
    phone: Yup.string()
        .matches(regPhone, '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç')
        .required('–ë–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –º—ã –Ω–µ —Å–º–æ–∂–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–∞–º –∑–∞–∫–∞–∑'),
});
```

ü•á –ü–æ–¥–æ–±–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å –ª—ë–≥–∫–æ—Å—Ç—å—é –∑–∞–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞/—Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –º–µ—Å—Ç—É. –†–∞–Ω–µ–µ —Å Parsley —ç—Ç–æ –±—ã–ª–æ —Å–ª–æ–∂–Ω–æ –¥–æ—Å—Ç–∏–∂–∏–º–æ, —Ç.–∫. –±—ã–ª –µ–¥–∏–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –Ω–∞ –ø—Ä–æ–µ–∫—Ç. –¢–µ–ø–µ—Ä—å –∂–µ –º—ã –º–æ–∂–µ–º –ø–∏—Å–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

‚òùüèø –ü–æ–¥—Ö–æ–¥ –∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: –∫–Ω–æ–ø–∫–∞ —Å–∞–±–º–∏—Ç–∞ –≤—Å–µ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—Å—è –Ω–∞ –∫–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ —Å–∞–±–º–∏—Ç–∞ –∏ –Ω–∞ onChange **–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ blur**. Live validation –∏–º–µ–µ—Ç —Ä—è–¥ –ø—Ä–æ–±–ª–µ–º —Å UX, –Ω–æ –µ—ë –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –≤–µ–±–µ –∫–∞–∂–µ—Ç—Å—è –±–æ–ª–µ–µ —Å—Ç—Ä–∞–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º, —Ç–∞–∫ —á—Ç–æ –≤—ã–±—Ä–∞–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —á–µ—Ä–µ–∑ blur, —á—Ç–æ–±—ã –Ω–µ —Ä–∞–∑–¥—Ä–∞–∂–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—à–∏–±–∫–∞–º–∏ —Å—Ä–∞–∑—É –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –≤–≤–æ–¥–∞, –∏ –ø—Ä–∏ —ç—Ç–æ–º –∏–º–µ—Ç—å live validation.

–ï—Å–ª–∏ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ —Å–∞–±–º–∏—Ç–∞, –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ, —Ç–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onSubmit`, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) –∏ –æ—Ç–ø—Ä–∞–≤–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –∫–µ–π—Å–æ–≤ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞–¥–¥–æ–Ω–∞ actions –≤ Storybook, —Ç–∞–∫ —á—Ç–æ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –µ–≥–æ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–Ω–µ–ª–∏.

‚òùüèø –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Form` –Ω–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –Ω–∏–∫–∞–∫–æ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Ñ–æ—Ä–º—É. –°–µ—Ç–∫—É –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞–≤–∞—Ç—å –ø–æ –º–µ—Å—Ç—É —á–µ—Ä–µ–∑ –ø—Ä–æ–∫–∏–¥—ã–≤–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –∫–ª–∞—Å—Å–æ–≤.


## –ü–æ–ª–µ –æ—à–∏–±–∫–∏

–î–ª—è –ø–æ–ª–µ–π –æ—à–∏–±–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Form.Error`, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ErrorMessage (formik). –û–±—ã—á–Ω–æ –µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é: –≤ –ø–æ–ª—è—Ö `Form.Field` –æ–Ω –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∏–∑–Ω—É—Ç—Ä–∏, –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ñ–æ—Ä–º—ã –∏ —Ç–∞–∫–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

## Props

### Form
<Props of={Form} />

### Form.Field
<Props of={Form.Field} />

### Form.Label
<Props of={Form.Label} />

### Form.Input
<Props of={Form.Input} />

### Form.Label
<Props of={Form.Label} />

### Form.Hint
<Props of={Form.Hint} />

### Form.Error
<Props of={Form.Error} />
